---
name: On-Page Save Pop-up UI Development
status: open
created: 2025-09-29T07:00:00Z
updated: 2025-09-29T07:00:00Z
github: [Will be updated when synced to GitHub]
depends_on: ["004.md", "005.md", "006.md", "007.md"]
parallel: true
conflicts_with: []
---
# Task: On-Page Save Pop-up UI Development

## Description
페이지 내에서 직접 표시되는 확장 팝업 UI 컴포넌트를 개발합니다. 다크 모드 지원, 자동 위치 계산, 반응형 디자인 등 사용자 경험을 최적화합니다.

## Acceptance Criteria
### Must-Have
- [ ] **팝업 HTML/CSS 구조**: 다크 모드 지원하는 확장 팝업 UI
- [ ] **헤더 컴포넌트**: "Save Clip" 타이틀 + 앱 로고 아이콘
- [ ] **제목 입력 필드**: 자동 생성 + 수정 가능, 60자 제한
- [ ] **미리보기 영역**: 읽기 전용, 스크롤 가능
- [ ] **카테고리 선택 드롭다운**: 계층형 트리 구조
- [ ] **저장 버튼**: 그라데이션 스타일
- [ ] **위치 계산**: 드래그 영역 근처에 자동 위치 지정

### Nice-to-Have
- [ ] **애니메이션**: 부드러운 표시/숨김 효과
- [ ] **접근성**: 키보드 네비게이션, ARIA 속성
- [ ] **테마 감지**: OS/브라우저 다크 모드 자동 감지

## Implementation Details
### 파일 구조
```
clipgo/
├── popup-overlay.js           # 확장 팝업 메인 모듈
├── popup-overlay.css          # 확장 팝업 스타일
└── src/PopupManager.js        # 팝업 관리자
```

### 주요 컴포넌트
1. **PopupContainer**: 전체 팝업 컨테이너
2. **PopupHeader**: 타이틀과 아이콘
3. **TitleInput**: 제목 입력 필드
4. **PreviewArea**: 미리보기 영역
5. **CategorySelector**: 카테고리 선택 드롭다운
6. **SaveButton**: 저장 버튼

### 기술 구현
- **CSS**: 다크 모드 변수, position 계산, 반응형 디자인
- **JavaScript**: 위치 계산 알고리즘, 이벤트 핸들링
- **통합**: 기존 CategoryManager, ClipManager와 연동

## Dependencies
### 외부 의존성
- CSS 변수로 다크 모드 지원
- 기존 CSS 프레임워크와 호환성

### 내부 의존성
- CategoryManager (카테고리 목록)
- ClipManager (저장 로직)
- I18nManager (다국어)

## Technical Notes
### 위치 계산 알고리즘
- 드래그 selection.getBoundingClientRect() 사용
- 화면 경계 확인 및 팝업 위치 조정
- 스크롤 위치 고려한 상대적 위치 계산

### 테마 지원
- CSS prefers-color-scheme 미디어 쿼리
- 동적 테마 전환 지원
- 커스텀 CSS 변수로 색상 관리

## Success Criteria
### 기술적 성공 기준
- [ ] 팝업이 정확한 위치에 표시됨
- [ ] 다크/라이트 모드 모두 정상 동작
- [ ] 키보드로 모든 요소에 접근 가능
- [ ] 화면 경계 처리가 올바르게 동작함

### 품질 기준
- [ ] 모바일/데스크톱 반응형 동작
- [ ] 성능: 팝업 표시 <100ms
- [ ] 접근성: WCAG 2.1 Level AA 준수
- [ ] 크로스 브라우저 호환성

## Test Plan
### 유닛 테스트
- 위치 계산 함수 정확성
- 테마 전환 동작
- 키보드 네비게이션

### 통합 테스트
- content.js와의 연동
- 기존 Manager 클래스와의 통합
- 실제 페이지에서의 동작 확인